# =============================================================================
# BE_nodejs Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# For Railway: set these as environment variables in the Railway dashboard

# =============================================================================
# Database Configuration
# =============================================================================
# Railway auto-injects DATABASE_URL when you link a PostgreSQL service
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:password@localhost:5432/moobee?schema=public

# =============================================================================
# Server Configuration
# =============================================================================
NODE_ENV=development
PORT=3000

# Railway-specific (set automatically by Railway)
# RAILWAY_ENVIRONMENT=production

# =============================================================================
# JWT Authentication
# =============================================================================
# Generate secrets with: openssl rand -hex 32
JWT_ACCESS_SECRET=your-access-secret-here
JWT_REFRESH_SECRET=your-refresh-secret-here
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Legacy JWT (if needed for backwards compatibility)
JWT_SECRET=your-jwt-secret-here

# =============================================================================
# AI Provider API Keys
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
DEEPSEEK_API_KEY=your-deepseek-api-key-here

# AI Model Configuration (optional)
AI_CLASSIFICATION_MODEL=gpt-4o

# =============================================================================
# Inter-Service Communication
# =============================================================================
# BE_py (Python AI/ML Services)
PYTHON_API_URL=http://localhost:8001
NODEJS_API_TOKEN=your-shared-service-token-here

# For Railway, use service references:
# PYTHON_API_URL=https://${{be-py.RAILWAY_PUBLIC_DOMAIN}}

# MCP Server (Model Context Protocol)
MCP_SERVER_URL=https://mcpjson2data-production.up.railway.app/mcp
MCP_AUTH_TOKEN=your-mcp-auth-token-here

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
# For Railway, use service references:
# CORS_ORIGIN=https://${{fe-moobee.RAILWAY_PUBLIC_DOMAIN}},https://${{fe-tenant.RAILWAY_PUBLIC_DOMAIN}}
CORS_ORIGIN=http://localhost:5173,http://localhost:5174

# =============================================================================
# Rate Limiting (optional)
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
WHITELISTED_IPS=

# =============================================================================
# CV Storage (Railway Volume)
# =============================================================================
# For Railway: mount a volume and set the path
CV_STORAGE_MODE=development
# CV_STORAGE_MODE=production

# =============================================================================
# CV Processing Worker
# =============================================================================
START_CV_WORKER=true
CV_WORKER_INTERVAL_MS=10000

# =============================================================================
# Email Notifications (SMTP)
# =============================================================================
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password
SMTP_FROM=hr@moobee.com
FRONTEND_URL=http://localhost:5173

# =============================================================================
# Database Connection (for direct connections, if not using DATABASE_URL)
# =============================================================================
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=your-password
# DB_NAME=moobee
